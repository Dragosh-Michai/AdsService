<Page x:Class="AdsService.Pages.EditAdPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      Title="Редактирование объявления">

    <ScrollViewer>
        <Grid Margin="20">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- Заголовок -->
            <TextBlock Grid.Row="0" 
                       x:Name="PageTitle"
                       Text="Добавление объявления"
                       Style="{StaticResource HeaderTextStyle}"/>

            <!-- Форма -->
            <Border Grid.Row="1" 
                    BorderBrush="{StaticResource SecondaryTextBrush}" 
                    BorderThickness="0,0,0,1"
                    Margin="0,0,0,20"
                    Padding="0,0,0,20">
                <StackPanel>
                    <!-- Название -->
                    <TextBlock Text="Название объявления:"/>
                    <TextBox x:Name="TitleTextBox" 
                             MaxLength="100"
                             Margin="0,0,0,16"/>

                    <!-- Описание -->
                    <TextBlock Text="Описание:"/>
                    <TextBox x:Name="DescriptionTextBox" 
                             MaxLength="500"
                             AcceptsReturn="True"
                             TextWrapping="Wrap"
                             Height="80"
                             VerticalScrollBarVisibility="Auto"
                             Margin="0,0,0,16"/>

                    <!-- Цена -->
                    <TextBlock Text="Цена (₽):"/>
                    <TextBox x:Name="PriceTextBox" 
                             PreviewTextInput="NumberValidationTextBox"
                             Margin="0,0,0,16"/>

                    <!-- Город -->
                    <TextBlock Text="Город:"/>
                    <ComboBox x:Name="CityComboBox"
                              DisplayMemberPath="CityName"
                              SelectedValuePath="CityId"
                              Margin="0,0,0,16"/>

                    <!-- Категория -->
                    <TextBlock Text="Категория:"/>
                    <ComboBox x:Name="CategoryComboBox"
                              DisplayMemberPath="CategoryName"
                              SelectedValuePath="CategoryId"
                              Margin="0,0,0,16"/>

                    <!-- Тип объявления -->
                    <TextBlock Text="Тип объявления:"/>
                    <ComboBox x:Name="TypeComboBox"
                              DisplayMemberPath="TypeName"
                              SelectedValuePath="TypeId"
                              Margin="0,0,0,16"/>

                    <!-- Статус -->
                    <TextBlock Text="Статус:"/>
                    <ComboBox x:Name="StatusComboBox"
                              DisplayMemberPath="StatusName"
                              SelectedValuePath="StatusId"
                              SelectionChanged="StatusComboBox_SelectionChanged"
                              Margin="0,0,0,16"/>

                    <!-- Поле для прибыли (только для статуса "Завершено") -->
                    <StackPanel x:Name="ProfitPanel" 
                                Visibility="Collapsed">
                        <TextBlock Text="Сумма полученной прибыли (₽):"/>
                        <TextBox x:Name="ProfitTextBox" 
                                 PreviewTextInput="NumberValidationTextBox"
                                 ToolTip="Введите целое неотрицательное число"
                                 Margin="0,0,0,16"/>
                    </StackPanel>
                </StackPanel>
            </Border>

            <!-- Кнопки -->
            <StackPanel Grid.Row="2" 
                        Orientation="Horizontal" 
                        HorizontalAlignment="Right">
                <Button x:Name="CancelButton" 
                        Content="Отмена" 
                        Click="CancelButton_Click"
                        Margin="0,0,10,0"/>
                <Button x:Name="SaveButton" 
                        Content="Сохранить" 
                        Click="SaveButton_Click"/>
            </StackPanel>
        </Grid>
    </ScrollViewer>
</Page>